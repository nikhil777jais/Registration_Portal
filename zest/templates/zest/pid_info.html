{% extends 'zest/base.html' %}
{% load static %}
{% block message %}
<div class="container text-white">
  <div class="row">
    <div class="col-md-12 mt-3">
      {% if messages %}
      {% for message in messages %}
      <div {% if message %} class="alert alert-{{message.tags}}" {% endif %}role="alert">
        {{message}}
      </div>
      {% endfor %}
      {% endif %}
    </div>
  </div>
</div>
{% endblock message %}
{% block content %}
{% if pid %}
<div class="container bg-white rounded" >
  <div class="row justify-content-center text-center mb-4">
    <div class="col-md-9 ">
      <img src="{% static 'zest/images/q.png' %}" class="rounded mx-auto py-3 d-block" width=35% alt="srmslogo">
    </div>
    <div class="text-theme">
      <h5>Shri Ram Murti Smarak College Of Engineering & Technology,Bareilly</h5>
      <h5>Ram Murti Puram, Bareilly - Nainital Rd, Highway, Bhojipura, Uttar Pradesh 243202</h5>
      <h4 class="pt-2"><b>Zest 2021 Registration Details</b></h4>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <table class="table table-hover table-bordered bg-white ">
        <tbody>
          <tr>
            <th class="align-middle py-2" width=20% scope="row">PID</th>
            <td class="align-left py-2" width=30%>{{pid.id}}</td>
            <th class="align-middle py-2" width=20% scope="row">Name</th>
            <td class="align-left py-2">{{pid.name}}</td>
          </tr>
          <tr>
            <th class="align-middle py-2" width=20% scope="row">College Name</th>
            <td class="align-left py-2" width=30%>{{pid.college_name}}</td>
            <th class="align-middle py-2" width=20% scope="row">Roll Number</th>
            <td class="align-left py-2">{{pid.roll_no}}</td>
          </tr>
          <tr>
            <th class="align-middle py-2" width=20% scope="row">Batch</th>
            <td class="align-left py-2" width=30%>{{pid.batch}}</td>
            <th class="align-middle py-2" width=20% scope="row">Course</th>
            <td class="align-left py-2">{{pid.course}}</td>
          </tr>
          <tr>
            <th class="align-middle py-2" width=20% scope="row">Branch</th>
            <td class="align-left py-2" width=30%>{{pid.branch}}</td>
            <th class="align-middle py-2" width=20% scope="row">Gender</th>
            <td class="align-left py-2">{{pid.gender}}</td>
          </tr>
          <tr>
            <th class="align-middle py-2" width=20% scope="row">Generated by</th>
            <td class="align-left py-2" width=30%>{{pid.generated_by}}</td>
            <th class="align-middle py-2" width=20% scope="row">Registration Date</th>
            <td class="align-left py-2">{{pid.date_joined}}</td>
          </tr>
          <tr>
            <th class="align-middle py-2" width=20% scope="row">Phone</th>
            <td class="align-left py-2" width=30%>{{pid.phone}}</td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="col-md-12">
      <table class="table table-bordered table-hover bg-white">
        <thead>
          <tr class="text-center">
            <th scope="col" style="width:50%">Registered Event</th>
          </tr>
        </thead>
      </table>  
    </div>
    {% if pid.pid_event %}
    <div class="col-md-12">  
      <table class="table table-bordered table-hover bg-white">
        <thead>
          <tr>
            <th scope="col" style="width:45%">Event Name </th>
            <th scope="col" style="width:30%">Event Venue </th>
            <th scope="col" style="width:25%">Event Date and Time </th>
          </tr>
        </thead>
        <tbody>
        {% for event in pid.pid_event.all%}
          <tr>
            <td class="align-middle py-2" width=45%>{{event.event_name}}</td>
            <td class="align-middle py-2" width=30%>{{event.event_venue}}</td>
            <td class="align-middle py-2" width=25%>{{event.event_time}}</td>
          </tr>
        {% endfor %}
        </tbody>
      </table>
    </div>
    {% endif %}
  </div>
</div>
<div class="container">
  <div class="row d-print-none">
    <div class="col-md-12 mt-2  text-center">
      <form>
        <input class="btn btn-color serach-btn " type="button" value="Print this page" onClick="window.print()">
        <a href="{% url 'register_event' %}" class="btn btn-color serach-btn mx-2">Register for Event</a>
      </form>
    </div>
  </div>
</div>
{% else %}
<div class="container">
  <div class="row justify-content-center mt-4">
    <div class="col-md-4">
      <div class="card text-center ">
        <div class="card-header">
          <img src="{% static 'zest/images/1_avatar-512.webp' %}" class="card-img-top" alt="registration image">
        </div>
        <div class="card-body m-3">
          <h5 class="card-title ">Register Individual</h5>
          <p class="card-text">Click The given Button to Generate PID</p>
          <a href="{% url 'generate_pid' %}" class="btn btn-color">Click Here</a>
        </div>
      </div>
    </div>
  </div>
</div>
{% endif %}

{% endblock content %}
